{% extends 'SandboxCoreBundle:Backend:layout.html.twig' %}

{% block content %}

<div class="page-header">
    <h1>User details</h1>
</div>

<div class="well">
        <a href="{{ path('sylius_guard_backend_user_update', {'id': user.id}) }}" class="btn">update</a>
        <a href="{{ path('sylius_guard_backend_user_delete', {'id': user.id}) }}" class="btn danger confirmer"
            data-controls-modal="confirmer-modal"
            data-backdrop="static"
            data-confirmer-question="Are you sure you want do delete user <strong><a href='mailto:{{ user.username }}'>{{ user.username }}</a></strong>?"
        >delete</a>
</div>

<h2>User data.</h2>
<table>
    <thead>
        <tr>
            <th>#id</th>
            <th>created at</th>
            <th>enabled</th>
            <th>e-mail</th>
            <th>groups</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.createdAt|date('Y-m-d H:i:s') }}</td>
            <td>
            {% if user.enabled %}
            <span class="label success">yes</span>
            {% else %}
            <span class="label important">nie</span>
            {% endif %}</td>
            <td><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
            <td>
                <ul>
                {% for group in user.groups %}
                    <li>{{ group.name }}</li>
                {% else %}
                    <li>No user groups...</li>
                {% endfor %}
                </ul>
            </td>
        </tr>
    </tbody>
</table>

{% endblock content %}
